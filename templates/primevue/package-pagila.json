{
  "name": "opinionate-primevue-pagila",
  "version": "0.7.9",
  "type": "module",
  "license": "MIT",
  "author": "Tim Merrison <tim@merrison.co.uk>",
  "config": {
    "gql_api": {
      "prefix": "http://",
      "hostname": "localhost",
      "port": 5000,
      "path": "/graphql"
    },
    "defaultMeta": {
      "templates": [
        "${['nodeId','fulltext','_id_','RentalByCategory'].includes(item.name) ? '' : 'switchboard\", \"list'+['nodeId','fulltext','_id_','RentalByCategory'].includes(item.name) || (item.type && item.type.kind=='LIST') ? '' : ', \"crud'}"
      ],
      "label": "${camel2proper(item.name)}",
      "readonly": "${(isEntity(item) && item.fields[0].name!=='nodeId') || (!isEntity(item) && !isField(item)) || (item.type && item.type.kind=='LIST') || ['nodeId','lastUpdate','fulltext'].includes(item.name) || (item.name.endsWith('Id') && item.name==parent.fields[1].name && !parent.fields[2].name.endsWith('Id'))}",

      "plural": "${!isEntity(item) ? 'null' : plural(item.name)}",
      "menu": "${!isEntity(item) ? 'null' : 'Entities'}",
      "primaryKey": "${!isEntity(item) ? 'null' : item.fields[1].name}",
      "primaryLabel": "${!isEntity(item) ? 'null' : item.fields.filter(e => e.name=='_id_').map(e => e.name).includes('_id_') ? '_id_' : item.fields[1].name}",

      "sType": "${isEntity(item) ? 'null' : getType(item)}",
      "format": "${isEntity(item) ? 'null' : item.type.kind=='ENUM' ? 'enum' : ['amount','rentalRate','replacementCost','price','totalSales'].includes(item.name) ? 'currency' : ['money','money!'].includes(getType(item)) ? 'currency' : ['Boolean','Boolean!'].includes(getType(item)) ? 'boolean' : ['Date','Date!'].includes(getType(item)) ? 'date' : ['Datetime','Datetime!'].includes(getType(item)) ? 'datetime' : !isField(item) || ['Int','Int!','BigInt','BigInt!','Float','Float!','BigFloat','BigFloat!','Year','Year!'].includes(getType(item)) ? 'number' : 'string'}",
      "maxDP": "${isEntity(item) ? 'null' : ['amount','rentalRate','replacementCost','price','totalSales'].includes(item.name) ? '2' : ['money','money!'].includes(getType(item)) ? '2' : ['Float','Float!','BigFloat','BigFloat!'].includes(getType(item)) ? '4' : 'null'}",
      "required": "${isEntity(item) ? 'null' : (item.type && item.type.kind=='NON_NULL' ? 'true' : 'false')}",
      "array": "${isEntity(item) ? 'null' : (item.type && item.type.kind=='LIST' ? 'true' : 'false')}",
      "align": "${isEntity(item) ? 'null' : !isField(item) || ['money','money!','Date','Date!','Datetime','Datetime!','Int','Int!','BigInt','BigInt!','Float','FLoat!','BigFloat','BigFLoat!','Year','Year!'].includes(getType(item)) ? 'right' : ['Boolean','Boolean!'].includes(getType(item)) ? 'center' : 'left'}",
      "default": "${isEntity(item) ? 'null' : ['Boolean','Boolean!'].includes(getType(item)) ? 'false' : ''}",
      "linkEntity": "${isEntity(item) ? 'null' : getType(item)==false ? to1UpperCase(singular(item.name.split('By')[0])) : !isField(item) || !parent.fields.find(link => getType(link)==null && link.name.toLowerCase().endsWith('by'+item.name.toLowerCase())) ? 'null' : to1UpperCase(parent.fields.find(link => getType(link)==null && link.name.toLowerCase().endsWith('by'+item.name.toLowerCase())).name.toString().split('By')[0])}",
      "linkFields": "${isEntity(item) ? 'null' : getType(item)==false ? to1LowerCase(item.name.split('By')[1]) : 'null'}",
      "linkFieldsFrom": "${isEntity(item) ? 'null' : getType(item)==false ? parent.fields[1].name : !isField(item) ? 'null' : !parent.fields.find(link => getType(link)==null && link.name.toLowerCase().endsWith('by'+item.name.toLowerCase())) ? 'null' : types.filter(e => isEntity(e) && e.name==to1UpperCase(parent.fields.find(link => getType(link)==null && link.name.toLowerCase().endsWith('by'+item.name.toLowerCase())).name.toString().split('By')[0])).map(e => e.fields[1].name)}"
    },
    "language": null,
    "currency": null
  },
  "scripts": {
    "preinstall": "npx only-allow pnpm",
    "gen-json": "postgraphile -c postgres://test:testpass@/pagila -s public -X --export-schema-json models/schema.json",
    "gen-gql": "postgraphile -c postgres://test:testpass@/pagila -s public -X --export-schema-graphql models/schema.gql",
    "gen-json-a": "apollo client:download-schema --endpoint=localhost models/schema.json",
    "gen-gql-a": "apollo client:download-schema --endpoint=localhost models/schema.gql",
    "gen-json-g": "get-graphql-schema localhost -j > models/schema.json",
    "gen-gql-g": "get-graphql-schema localhost > models/schema.gql",
    "gen-ts": "graphql-codegen --config node_modules/opinionate/models/codegen.yml",
    "gen-overlay": "opinionate meta --overlay-out models/overlayOut.json",
    "gen-code": "opinionate gen --template node_modules/opinionate/templates/primevue -o models/overlayOut.json",
    "gen": "mkdir models ; pnpm install && pnpm gen-json && pnpm gen-gql && pnpm gen-ts && pnpm gen-overlay && pnpm gen-code",
    "backend": "postgraphile -c postgres://test:testpass@/pagila -s public --cors --enhance-graphiql -n localhost -p 5000 -q /graphql",
    "dev": "vite",
    "build": "vue-tsc -b && vite build",
    "preview": "vite preview",
    "lint": "eslint --ext .js,.vue --ignore-path .gitignore --fix src"
  },
  "dependencies": {
    "@primevue/themes": "^4.4.1",
    "graphql": "^16.12.0",
    "graphql-tag": "^2.12.6",
    "primeicons": "^7.0.0",
    "primelocale": "^2.2.2",
    "primevue": "^4.4.1",
    "vee-validate": "^4.15.1",
    "villus": "^3.5.2",
    "vue": "^3.5.22",
    "vue-router": "^4.6.3"
  },
  "devDependencies": {
    "@graphql-codegen/cli": "^5.0.7",
    "@graphql-codegen/typescript": "^4.1.6",
    "@vitejs/plugin-vue": "^6.0.1",
    "@vue/tsconfig": "^0.8.1",
    "opinionate": "github:tjme/opinionate#master",
    "typescript": "^5.9.3",
    "vite": "^7.1.12",
    "vue-tsc": "^3.1.2"
  }
}
